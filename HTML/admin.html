
<body>
<img src="utlogo.png">
<h1>Admin Panel</h1>
<form method="POST" action="admin.html">
<label for="consolecommand">Console command: </label>
<input type="text" name="consolecommand" value="" />
<input type="submit" />
</form>

<br>
<br>
<script language="javascript">
	
	// debug preview variables to check html
	//var mapname = "MP_NickTest1";
	//var timeremaining = 860;
	//var goalscore = 10;
	//var Players = [{name:"PeteNub",score:10,kills:10,deaths:10}, {name:"BarkTooth",score:1,kills:1,deaths:50}];
	//var maprotation = ["DM-NickTest1","DM-Circuit"];
	
	function generateServerInfo()
	{
		var html = "<h2>" + mapname + "</h2>";
		html += "Time: " + timeremaining + " seconds left<br>";
		html += "Goal score: " + goalscore + "<br>";
		
		html += "<h3>Map Rotation</h3>";
		for (i in maprotation)
		{
			var map = maprotation[i];
			html += map + "<br>";
		}
		
		return html;
	}
	
	function generatePlayerTable()
	{
		var html = "<h2>Players</h2>";
		
		html += "<table><tr><th>Name</th><th>Score</th><th>Kills</th><th>Deaths</th><th>Kick?</th><th>Ban?</th></tr>";
		
		for (Player in Players)
		{
			var PlayerData = Players[Player];
			html += "<tr><td>" + PlayerData.name + "</td><td>" + PlayerData.score + "</td><td>" + PlayerData.kills + "</td><td>" + PlayerData.deaths + "</td>";
			// These links should really be POST instead of GET
			html += "<td><a href=admin.html?kick=" + PlayerData.name + ">Kick</a></td>";
			html += "<td><a href=admin.html?ban=" + PlayerData.name + ">Ban</a></td>";
			html +="</tr>";
		}
		
		html += "</table>";
		return html;
	}
	function onLoad()
	{
		document.getElementById('playertable').innerHTML = generatePlayerTable();
		document.getElementById('serverinfo').innerHTML = generateServerInfo();
	}
	window.onload = onLoad;
	
</script>

<div id="serverinfo"></div>
<br>
<div id="playertable"></div>

</body>
</html>